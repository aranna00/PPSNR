<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="CopilotDiffPersistence">
    <option name="pendingDiffs">
      <map>
        <entry key="$PROJECT_DIR$/PPSNR.Server-AI/Program.cs">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/PPSNR.Server-AI/Program.cs" />
              <option name="originalContent" value="using Microsoft.AspNetCore.Components.Authorization;&#10;using Microsoft.AspNetCore.Identity;&#10;using Microsoft.EntityFrameworkCore;&#10;using PPSNR.Server.Components;&#10;using PPSNR.Server.Components.Account;&#10;using PPSNR.Server.Data;&#10;&#10;var builder = WebApplication.CreateBuilder(args);&#10;&#10;// Add services to the container.&#10;builder.Services.AddRazorComponents()&#10;    .AddInteractiveServerComponents();&#10;&#10;builder.Services.AddCascadingAuthenticationState();&#10;builder.Services.AddScoped&lt;IdentityRedirectManager&gt;();&#10;builder.Services.AddScoped&lt;AuthenticationStateProvider, IdentityRevalidatingAuthenticationStateProvider&gt;();&#10;&#10;builder.Services.AddAuthentication(options =&gt;&#10;    {&#10;        options.DefaultScheme = IdentityConstants.ApplicationScheme;&#10;        options.DefaultSignInScheme = IdentityConstants.ExternalScheme;&#10;    })&#10;    .AddIdentityCookies();&#10;&#10;var connectionString = builder.Configuration.GetConnectionString(&quot;DefaultConnection&quot;) ?? throw new InvalidOperationException(&quot;Connection string 'DefaultConnection' not found.&quot;);&#10;builder.Services.AddDbContext&lt;ApplicationDbContext&gt;(options =&gt;&#10;    options.UseSqlite(connectionString));&#10;builder.Services.AddDatabaseDeveloperPageExceptionFilter();&#10;&#10;builder.Services.AddIdentityCore&lt;ApplicationUser&gt;(options =&gt;&#10;    {&#10;        options.SignIn.RequireConfirmedAccount = true;&#10;        options.Stores.SchemaVersion = IdentitySchemaVersions.Version3;&#10;    })&#10;    .AddEntityFrameworkStores&lt;ApplicationDbContext&gt;()&#10;    .AddSignInManager()&#10;    .AddDefaultTokenProviders();&#10;&#10;builder.Services.AddSingleton&lt;IEmailSender&lt;ApplicationUser&gt;, IdentityNoOpEmailSender&gt;();&#10;&#10;var app = builder.Build();&#10;&#10;// Configure the HTTP request pipeline.&#10;if (app.Environment.IsDevelopment())&#10;{&#10;    app.UseMigrationsEndPoint();&#10;}&#10;else&#10;{&#10;    app.UseExceptionHandler(&quot;/Error&quot;, createScopeForErrors: true);&#10;    // The default HSTS value is 30 days. You may want to change this for production scenarios, see https://aka.ms/aspnetcore-hsts.&#10;    app.UseHsts();&#10;}&#10;app.UseStatusCodePagesWithReExecute(&quot;/not-found&quot;, createScopeForStatusCodePages: true);&#10;app.UseHttpsRedirection();&#10;&#10;// Do not register global antiforgery middleware here; validate antiforgery&#10;// explicitly in API POST endpoints. Global registration can force GET pages&#10;// to be validated and cause missing-cookie errors for view pages.&#10;&#10;app.MapStaticAssets();&#10;app.MapRazorComponents&lt;App&gt;()&#10;    .AddInteractiveServerRenderMode();&#10;&#10;// Add additional endpoints required by the Identity /Account Razor components.&#10;app.MapAdditionalIdentityEndpoints();&#10;&#10;app.Run();&#10;" />
              <option name="updatedContent" value="using Microsoft.AspNetCore.Components.Authorization;&#13;&#10;using Microsoft.AspNetCore.Identity;&#13;&#10;using Microsoft.EntityFrameworkCore;&#13;&#10;using PPSNR.Server.Components;&#13;&#10;using PPSNR.Server.Components.Account;&#13;&#10;using PPSNR.Server.Data;&#13;&#10;&#13;&#10;var builder = WebApplication.CreateBuilder(args);&#13;&#10;&#13;&#10;// Add services to the container.&#13;&#10;builder.Services.AddRazorComponents()&#13;&#10;    .AddInteractiveServerComponents();&#13;&#10;&#13;&#10;builder.Services.AddCascadingAuthenticationState();&#13;&#10;builder.Services.AddScoped&lt;IdentityRedirectManager&gt;();&#13;&#10;builder.Services.AddScoped&lt;AuthenticationStateProvider, IdentityRevalidatingAuthenticationStateProvider&gt;();&#13;&#10;&#13;&#10;builder.Services.AddAuthentication(options =&gt;&#13;&#10;    {&#13;&#10;        options.DefaultScheme = IdentityConstants.ApplicationScheme;&#13;&#10;        options.DefaultSignInScheme = IdentityConstants.ExternalScheme;&#13;&#10;    })&#13;&#10;    .AddIdentityCookies();&#13;&#10;&#13;&#10;var connectionString = builder.Configuration.GetConnectionString(&quot;DefaultConnection&quot;) ?? throw new InvalidOperationException(&quot;Connection string 'DefaultConnection' not found.&quot;);&#13;&#10;builder.Services.AddDbContext&lt;ApplicationDbContext&gt;(options =&gt;&#13;&#10;    options.UseSqlite(connectionString));&#13;&#10;builder.Services.AddDatabaseDeveloperPageExceptionFilter();&#13;&#10;&#13;&#10;builder.Services.AddIdentityCore&lt;ApplicationUser&gt;(options =&gt;&#13;&#10;    {&#13;&#10;        options.SignIn.RequireConfirmedAccount = true;&#13;&#10;        options.Stores.SchemaVersion = IdentitySchemaVersions.Version3;&#13;&#10;    })&#13;&#10;    .AddEntityFrameworkStores&lt;ApplicationDbContext&gt;()&#13;&#10;    .AddSignInManager()&#13;&#10;    .AddDefaultTokenProviders();&#13;&#10;&#13;&#10;builder.Services.AddSingleton&lt;IEmailSender&lt;ApplicationUser&gt;, IdentityNoOpEmailSender&gt;();&#13;&#10;&#13;&#10;var app = builder.Build();&#13;&#10;&#13;&#10;// Configure the HTTP request pipeline.&#13;&#10;if (app.Environment.IsDevelopment())&#13;&#10;{&#13;&#10;    app.UseMigrationsEndPoint();&#13;&#10;}&#13;&#10;else&#13;&#10;{&#13;&#10;    app.UseExceptionHandler(&quot;/Error&quot;, createScopeForErrors: true);&#13;&#10;    // The default HSTS value is 30 days. You may want to change this for production scenarios, see https://aka.ms/aspnetcore-hsts.&#13;&#10;    app.UseHsts();&#13;&#10;}&#13;&#10;app.UseStatusCodePagesWithReExecute(&quot;/not-found&quot;, createScopeForStatusCodePages: true);&#13;&#10;app.UseHttpsRedirection();&#13;&#10;&#13;&#10;// Do not register global antiforgery middleware here; validate antiforgery&#13;&#10;// explicitly in API POST endpoints. Global registration can force GET pages&#13;&#10;// to be validated and cause missing-cookie errors for view pages.&#13;&#10;&#13;&#10;app.MapStaticAssets();&#13;&#10;app.MapRazorComponents&lt;App&gt;()&#13;&#10;    .AddInteractiveServerRenderMode();&#13;&#10;&#13;&#10;// Add additional endpoints required by the Identity /Account Razor components.&#13;&#10;app.MapAdditionalIdentityEndpoints();&#13;&#10;&#13;&#10;app.Run();" />
            </PendingDiffInfo>
          </value>
        </entry>
      </map>
    </option>
  </component>
</project>